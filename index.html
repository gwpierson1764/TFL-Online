<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TFL Prototype</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      height: 100vh;
      flex-direction: row;
    }
    .home, .visitor, .center {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 10px;
    }
    .home {
      background: #003F87;
      color: white;
    }
    .visitor {
      background: #C8102E;
      color: white;
    }
    .center {
      background: white;
      color: #003F87;
      justify-content: space-between;
    }

    h1 {
      margin: 10px 0;
    }

    /* Momentum Circles */
    .momentum {
      display: flex;
      gap: 5px;
      margin: 10px 0;
    }
    .circle {
      width: 20px;
      height: 20px;
      border: 2px solid white;
      border-radius: 50%;
      background: transparent;
      cursor: pointer;
    }
    .circle.filled {
      background: white;
    }

    /* Possession Marker */
    .possession {
      font-size: 2em;
      margin-left: 10px;
    }

    /* Coin Flip */
    .coin-flip {
      text-align: center;
      margin: 20px 0;
    }

    /* Field Tracker */
    .field {
      position: relative;
      height: 80%;
      width: 100px;
      border: 2px solid #003F87;
      background: repeating-linear-gradient(
        to top,
        green,
        green 9%,
        white 9%,
        white 10%
      );
      margin: 0 auto;
    }
    .marker {
      position: absolute;
      left: 0;
      width: 100%;
      height: 4px;
      cursor: grab;
    }
    .los { background: blue; }
    .ltg { background: yellow; }
  </style>
</head>
<body>
  <!-- HOME -->
  <div class="home">
    <h1>HOME <span id="homePossession" class="possession"></span></h1>
    <h1 id="homeScore">0</h1>
    <div class="momentum" id="homeMomentum">
      <div class="circle" onclick="toggleCircle(this)"></div>
      <div class="circle" onclick="toggleCircle(this)"></div>
      <div class="circle" onclick="toggleCircle(this)"></div>
      <div class="circle" onclick="toggleCircle(this)"></div>
      <div class="circle" onclick="toggleCircle(this)"></div>
    </div>
    <button onclick="togglePossession('home')">Toggle Possession</button>
  </div>

  <!-- CENTER -->
  <div class="center">
    <div>
      <img src="TFL_Logo.png" alt="TFL Logo" style="max-width:80%; display:block; margin:auto;">
      <div class="coin-flip">
        <button onclick="flipCoin()">Flip Coin</button>
        <p id="coinResult"></p>
      </div>
    </div>
    <div class="field" id="field">
      <div class="marker los" id="los" style="bottom: 20%;"></div>
      <div class="marker ltg" id="ltg" style="bottom: 40%;"></div>
    </div>
  </div>

  <!-- VISITOR -->
  <div class="visitor">
    <h1>VISITOR <span id="visitorPossession" class="possession"></span></h1>
    <h1 id="visitorScore">0</h1>
    <div class="momentum" id="visitorMomentum">
      <div class="circle" onclick="toggleCircle(this)"></div>
      <div class="circle" onclick="toggleCircle(this)"></div>
      <div class="circle" onclick="toggleCircle(this)"></div>
      <div class="circle" onclick="toggleCircle(this)"></div>
      <div class="circle" onclick="toggleCircle(this)"></div>
    </div>
    <button onclick="togglePossession('visitor')">Toggle Possession</button>
  </div>

  <script>
    // Toggle Momentum
    function toggleCircle(el) {
      el.classList.toggle("filled");
    }

    // Coin Flip
    function flipCoin() {
      const result = Math.random() < 0.5 ? "Heads" : "Tails";
      document.getElementById("coinResult").textContent = result;
    }

    // Possession
    function togglePossession(team) {
      document.getElementById("homePossession").textContent = "";
      document.getElementById("visitorPossession").textContent = "";
      if (team === "home") {
        document.getElementById("homePossession").textContent = "ðŸˆ";
      } else {
        document.getElementById("visitorPossession").textContent = "ðŸˆ";
      }
    }

    // Drag Markers
    function makeDraggable(markerId, containerId) {
      const marker = document.getElementById(markerId);
      const container = document.getElementById(containerId);

      marker.onmousedown = function (event) {
        event.preventDefault();

        function move(e) {
          const rect = container.getBoundingClientRect();
          let y = e.clientY - rect.top;
          if (y < 0) y = 0;
          if (y > rect.height) y = rect.height;
          marker.style.bottom = (rect.height - y) + "px";
        }

        function stop() {
          document.removeEventListener("mousemove", move);
          document.removeEventListener("mouseup", stop);
        }

        document.addEventListener("mousemove", move);
        document.addEventListener("mouseup", stop);
      };
    }

    makeDraggable("los", "field");
    makeDraggable("ltg", "field");
  </script>
</body>
</html>
